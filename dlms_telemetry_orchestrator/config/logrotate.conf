# Logrotate configuration for DLMS Bridge application
# Place this file in /etc/logrotate.d/dlms-bridge
#
# Application logs
/home/pci/Documents/sebas_giraldo/Tesis-app/dlms-bridge/logs/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 0644 pci pci
    sharedscripts
    postrotate
        # Reload service if needed
        /usr/bin/systemctl reload dlms-multi-meter.service > /dev/null 2>&1 || true
    endscript
}

# Health reports (JSON files)
/home/pci/Documents/sebas_giraldo/Tesis-app/dlms-bridge/logs/health_reports/*.json {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    create 0644 pci pci
}

# Action plans (JSON files)
/home/pci/Documents/sebas_giraldo/Tesis-app/dlms-bridge/logs/action_plans/*.json {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    create 0644 pci pci
}
